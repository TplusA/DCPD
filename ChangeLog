2020-06-02  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.7 released.

	* Volume control: Proper support of mute change requests for
	  incremental volume scale.

	* Introspection: Read out version number from the correct place in V2
	  StrBo series.

	* Misc: Remove compiler warnings and fix compilation with gcc 10.1.

2020-03-30  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.6 released.

	* JSON: Remove dependency on jsoncpp, use JSON for Modern C++ instead.
	  This change was made for easier integration with Yocto Project (any
	  version) and to improve our own code quality (jsoncpp is Java-esque
	  whereas the new library integrates seamlessly with modern C++
	  paradigms).

	* Misc: Remove a lot of warnings thrown by gcc from Yocto Project SDK,
	  get rid of some C remnants.

2020-03-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.5 released.

	* Audio paths: Send appliance power state (powered, suspended,
	  unknown) to TAPSwitch. This enables TAPSwitch to cancel audio path
	  activations on suspending.

	* Playback: Handle failing plain URL streams.

	* Unit tests: Fix broken tests which are currently not executed on
	  Jenkins CI, thus went unnoticed.

	* Build system: Significant simplification of Meson build script.

	* Repository: Add missing script required by Meson-based build system.

2020-03-09  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.4 released.

	* Playback: Emit stream info for a stream only if the stream was
	  successfully sent to the stream player. The correct ordering is
	  crucial (to the UI) in case pushing the stream to the player fails.

	* Playback: Fix handling of non-app streams.

	* D-Bus: Avoid potential deadlock situations. Some D-Bus calls were
	  being made in D-Bus context, and it seemed dangerous to leave it the
	  way it was.

2020-01-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.3 released.

	* Stability: Adapted for new style of list handling and stream player
	  handling to remove dependencies on overall system timing.

	* Stability: Fix UB in transaction handling. It is very unlikely that
	  this bug has ever manifested as a real problem (compiler most
	  probably did the right thing), but a bug is a bug.

	* Build system: Support Meson.

2019-12-05  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.2a released.

	* Integration: Builds with our outdated Yocto Project.

2019-12-05  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.2 released.

	* Appliances: Recognize appliance "MP3000HV".

	* Volume control: Support incremental volume changes for appliances
	  which can support only simple volume increment/decrement requests.
	  The volume control configured via register 64 can be set to a
	  relative mode for these appliances. See src/dcpregs_volume.hh for
	  updated protocol specification.

	* Logging: Show active and requested network configuration in log.

2019-09-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.1 released.

	* TCP tunnel: Improved detection of peer disconnects.

	* TCP tunnel: Allow SPI slave to close peer connections.

	* Networking: Avoid CPU hogging when the direct, non-tunnel smartphone
	  connection is closed.

2019-06-27  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 5.0 released.

	* DCP protocol: Add register 82 for audio path information exchange.

	* Testing: Enable testing on PC again (new option --fake-connman).

	* Licensing: Changed license from GPLv3+ to GPLv2+.

2019-03-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.24 released.

	* DCP protocol: Add register 207 for reading out the current date and
	  time in XML format.

	* DCP protocol: Protocol level bumped to 1.0.8.

2019-03-27  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.23 released.

	* Playback: Stopping from app or via remote control while playing a
	  list from the app works now.

	* Networking: Request WLAN power-on on Ethernet disconnect even if no
	  WLAN preferences are stored. This allows access to WLAN after
	  sitting on an Ethernet connection for some time after WLAN has been
	  suspended already.

2019-03-14  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.22 released.

	* Playback: Fix audio source management by removing "app mode", a
	  relict harking back to the dark times before there were properly
	  defined audio sources. The plain URL source and switching back and
	  forth from and to other audio sources is much more stable now.

2019-02-20  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.21 released.

	* Access point: When new WLAN settings are sent and the sender
	  requests to have these settings applied immediately, then the access
	  point is teared down and a regular WLAN connection is established.

	* Access point: Fixed many lockup situations and instabilities.

	* Networking: Avoid WLAN survey timeouts and other spurious timeouts
	  due to internal communication deadlocks.

2019-01-23  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.20 released.

	* Access point: Report cached wireless networks while in access point
	  mode.

	* Networking: Fix D-Bus deadlock on access point activation.

2018-12-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.19 released.

	* Networking: Reconnect to WLAN after passphrase has been changed on
	  appliance side (e.g., after the WLAN passphrase has been changed).

	* Logging: Send stop reason to stream player so that it can be emitted
	  to the log.

	* System update: Overwrite existing configuration files with versions
	  from update packages (opkg --force-maintainer).

2018-12-11  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.18 released.

	* Access point: The SPI slave can spawn or shut down access point
	  mode. DCP register 107 can be used for this.

	* UPnP server: Watch Gerbera status and report it through new DCP
	  register 89. Also allow SPI slave to send control commands to the
	  UPnP server (currently, only resetting the database).

	* Appliances: Recognize appliances "SD3100HV" and "SDV3100HV".

	* Networking: Cleaned up lots of network configuration code to enable
	  future (and present) changes. Basically, paying off technical debt.

	* Logging: Writes to registers 78, 79, 238, 239 are logged at normal
	  verbosity level now.

	* Unit tests: The doctest tests can generate JUnit reports now.
	  The tests can be run with Valgrind now as well. This should make us
	  ready for CI.

	* Unit tests: Replace several singletons by dependency injection for
	  better code and vastly improved testability.

2018-10-31  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.17 released.

	* Misc: Fix build with current stable version of Yocto Project (sumo).

2018-10-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.16 released.

	* Networking: Allow pushing network configuration change requests from
	  SPI slave as well as over D-Bus (latter mechanism is used by the
	  REST API).

	  This change required quite some changes and refactoring to make the
	  SPI register interface just one possibility to send in some changes.
	  Various improvements and bug fixes have been applied to the network
	  configuration code along the way.

	* Networking: Much more data is extracted from ConnMan services and
	  returned over D-Bus when a D-Bus client asks for information. The
	  intention is to allow D-Bus clients (i.e., the REST API) to see
	  everything and to be able to modify everything.

	* Unit tests: Use doctest for new tests. The plan is to abandon Cutter
	  completely in favor of doctest. This will remove the very annoying
	  GLib dependency from unit tests, currently forcing us to execute the
	  Jenkins build jobs on srv-dev due to many memory leaks detected by
	  Valgrind in GLib (and suppressed by us using a huge list of
	  exceptions, and that list depends on the specific GLib version).

	* Misc: Avoid false BUG message in logs.

2018-08-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.15 released.

	* Audio sources: Added source for HIGHRESAUDIO service (via Airable).

	* Logging: Register names are printed along with the register numbers
	  to the log. This is going to reduce the guesswork when reading logs.

	* Logging: Extra logs on writes to registers 78, 79, 238, 239 at
	  verbosity level "diag". We can see now which URLs are written, and
	  which fall-back meta data belongs to it. This is going to supportive
	  for app development and debugging.

	* Misc: Ported some portions of the code base to C++ to enable easier
	  and safer ways for adding future extensions and refactoring.

2018-06-22  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.14 released.

	* Roon certification: Modified register 88 (UPnP friendly name) to
	  allow the SPI slave telling the Streaming Board whether or not the
	  passed name is the appliance's default name. This information is
	  required by taroon to make correct use of the auto-naming feature.

	* Roon certification: Extend audio path switching via register 81 so
	  to allow the SPI slave to pass extra data along with the name of the
	  target audio source. The mechanism implemented in dcpd is completely
	  generic; only audio sources and audio players take a look at the new
	  extra data.

	  There is currently only a single option supported by taroon, namely
	  "standby". For Roon, the inactive source should be selected by
	  sending the string ":standby" (inactive source with no name followed
	  by standby flag) in case the appliance is about to enter standby
	  mode.

	* DCP protocol: Protocol level bumped to 1.0.6.

2018-05-07  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.13 released.

	* TA Control: Allow multiple simultaneous connections to Airable
	  server port (TCP port 8466).

	* TA Control: Relax restriction on number of simultaneous connections
	  to tunnels managed by SPI slave.

	* Roon: Appliance standby mode can be requested. In fact, now any
	  process can monitor the appliance's power state, and request standby
	  state or wake up from standby via D-Bus.

2018-04-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.12 released.

	* DCP protocol: Add appliance status register 18, sent by the
	  appliance on status updates.

	* Playback: Changes of audio paths are synchronized with the
	  appliance's audio system state now. The state of the audio system as
	  sent in via register 18 is forwarded to TAPSwtich so that it can
	  defer completion of audio path changes.

	  Requires TAPSwitch v1.3 or later.

	* Testing: Add appliance ID "LinuxPC" for testing on PC. Also improve
	  logging capabilities for DCP-over-TCP.

2018-03-06  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.11 released.

	* Maintenance: Fix compilation with gcc 7.3.0.

	* Misc: Do not error out if markdown is not installed.

2018-02-09  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.10 released.

	* Audio sources: Add status byte in audio source status updates sent
	  through register 80. This is an incompatible change with respect to
	  v4.1, but this feature has never been used before anyway, so it's
	  OK.

	* Playback: In plainurl mode, a start signal has been sent to the
	  streamplayer twice in case the first stream hasn't started playing
	  when receiving the next stream URL. This fix is more of cosmetic
	  nature as the streamplayer ignores this second start command anyway.

	* Misc: Improve logs for smartphone connection handling a bit.

2018-01-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.9 released.

	* Networking: Fix WPS connection (requires patched ConnMan v1.33 or
	  ConnMan later than v1.35).

	* DCP protocol: Fix network status updates (register 50).

2017-12-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.8 released.

	* Networking: Fix handling of unwanted wireless networks.

	* Networking: Fix handling of disappearing wireless networks.

2017-12-18  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.7 released.

	* DCP protocol: Fixed DCP packet rearrangement bug. All fragments of
	  fragmented transfers are sent one after the other, no more
	  rearrangements for fair packet scheduling and slave prioritization.

	* Misc: Fixed minor DCP over TCP issues.

2017-11-30  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.6 released.

	* Airable: Ask Airable list broker to log into external service after
	  new credentials have been sent. This change makes use of new/changed
	  D-Bus APIs and requires listbrokers v3.3 and drcpd v4.5 to work
	  correctly.

2017-11-23  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.5 released.

	* DCP protocol: Language and country settings can be set and read out
	  via register 47. There are separate settings for on-screen messages
	  generated by drcpd and for content delivered by Airable.

	* DRCP: Recognize command code 0xb5 for resuming playback after power
	  cycle.

2017-10-16  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.4 released.

	* DCP protocol: The SPI slave can send long messages using multiple
	  DCP packets now. Long messages are reassembled while DCP packets are
	  received, and forwarded to their destination after the last packet
	  has been received. The last packet in a row is identified by its
	  payload size being smaller than 256 bytes.

	* DCP protocol: Long messages are sent to the SPI slave in fragments
	  just the way they have in previous versions, but an empty packet is
	  sent following the last packet in case the last packet size is 256.

	* DCP protocol: Sizes of register 75, 79, and 239 are 2048 characters
	  instead of 1024.

	* Audio sources: Sending an empty string ID to register 81 explicitly
	  enters the inactive state. This means that any stream is stopped and
	  the audio path is shut down. UI-wise, there will be no more screen
	  updates in inactive state.

2017-10-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.3 released.

	* Appliances: Recognize appliance "MP8".

2017-10-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.2 released.

	* Roon: React on stream player signals emitted by TARoon. This makes
	  cover art work for Roon and fixes general breakage of Roon mode.

	* Volume control: Register 64 can be used to configure a volume
	  control, to set its values, and to read out volume level and mute
	  state change requests. This register is required for integration of
	  volume control with Roon.

	  See src/dcpregs_volume.h for protocol specification.
	  See src/fixpoint.hh for the fix point value format specification.

2017-09-11  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.1 released.

	* Summary: This is a merge of versions 3.8 and 4.0. Since v4.0 was a
	  fork of v3.1, this version includes all the fixes and changes made
	  for v3.2 through v3.8. Additional changes are listed below.

	* DCP protocol: Register 81 can be used to set and query the current
	  audio source. To switch the audio source, its zero-terminated name
	  must be written to 81. On each audio source switch, the new content
	  of register 81 is pushed to the SPI slave.

	* DCP protocol: Register 81 can be used to summon dead audio sources
	  such as Roon. In fact, the only source for which this functionality
	  is currently available *is* Roon.

	* DCP protocol: Register 80 can be used to query the state of all
	  available audio sources. Queries must be done by writing a query
	  command to 80, the answer will then be pushed to the SPI slave.
	  Changes of audio source states are pushed to the slave without prior
	  query (not completely implemented yet).

	* DCP protocol: Register 37 returns a version number (such as V1.0.0),
	  not a datetime string (such as 20170804104801).

	* DCP protocol: A protocol version query (register 1) returns the
	  correct, latest DC protocol version now. Selection and negotiation
	  of protocol version has been fixed and works correctly now.

2017-08-04  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.8 released.

	* Networking: DNS configuration is sent to ConnMan in case of manual
	  IPv4 setup, and empty DNS configuration is sent in case of DHCPv4
	  mode setup.

2017-07-20  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.7 released.

	* Appliances: Replace nonexistent appliance "Cala Plus" by "Cala CDR"
	  and "Cala SR".

2017-07-14  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.6 released.

	* Appliances: Rename nonexistent appliance "MP 2500 HV" to
	  not-yet-released appliance "MP 2500 R".

	* UPnP: Device UUID shows up correctly on CalaBerbel.

	* UPnP: Icon list is written to root XML file.

	* Stability: Fixed crash when encountering a NIC with locally
	  administered MAC address.

2017-06-07  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.5 released.

	* WLAN: Make WPS operation more stable.

	* WLAN: Enable canceling WPS connection attempt. To cancel, the SPI
	  slave needs to send "wps-abort" as security string.

	* Networking: Select appliance-specific fallback networking technology
	  for configuration in case there is no obvious candidate. This
	  enables WLAN configuration at any time in appliances with no
	  Ethernet.

	* Networking: Cancel WPS mode when Ethernet cable is plugged in.

2017-06-02  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.4 released.

	* WLAN: Enable WPS push-button method.

	* DCP protocol: Extended network status (register 50) for reporting
	  state of connection.

	* DCP protocol: Appliance ID set in register 87 has an effect now.
	  Currently, the ID determines the way the network devices are treated
	  and which MAC address is used for Airable. This version contains
	  hard-coded rules, which is a design flaw enforced by project
	  schedule. This issue is to be addressed in the future. Recognized
	  appliance IDs are R1000E, MP1000E, MP2000R, MP2500HV, MP3100HV,
	  CalaPlus, and CalaBerbel.

	* Networking: The network MAC addresses are read out based on
	  appliance ID. Filtering of ConnMan services by MAC address takes
	  immediate effect on appliance ID change.

	* TA Control: Fix very rarely occuring communication problem with
	  smartphone app.

	* Misc: Implement monitoring D-Bus interface for configuration value
	  changes. This interface was long defined, and has finally been
	  implemented.

	* Misc: Unknown command line arguments are ignored in daemon mode.
	  This is supposed to simplify ad-hoc upgrades and make regular
	  updates more fail-safe.

2017-04-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.3 released.

	* DCP protocol: Support fast forward and fast rewind commands. This
	  enables fast winding via remote control.

	* DCP protocol: Support stream seek commands. This enables jumping
	  to arbitrary stream positions via TA Control progress bar.

	* DCP protocol: Avoid sending cover art hash updates on continue from
	  pause mode and stream seeks.

2017-03-16  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.0 released.

	* Audio routing: Register with TAPSwitch as audio source.

	* Audio routing: The daemon selects the App audio source before
	  starting to play. It won't play anything before source selection has
	  succeeded.

	* Audio routing: The player is stopped when the App source is
	  deselected.

2017-02-30  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.2 released.

	* Stability: Fixed communication with drcpd. Requires drcpd v3.3 for
	  full effect as there was also a bug on the other side.

	* Misc: Added extra log messages to help hunting down problems with
	  transferring cover art to the SPI slave.

2017-02-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.1 released.

	* XMODEM: Fix progress reports for downloaded files.

	* XMODEM: Fix progress reports for cover art.

2017-02-16  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.0 released: Changes of D-Bus interfaces were necessary
	  which break compatibility with older version, hence the change of
	  the major version.

	* Cover art: Integration with TACAMan. Pictures are retrieved for the
	  current stream, changes of cover art are monitored.

	* Cover art: SPI slave gets cover art change notifications via
	  register 210 and can retrieve pictures via XMODEM.

	* DCP protocol: Protocol level still at 1.0.2 because 2.13 was never
	  published.

2017-01-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.13 released.

	* Playback: Handle new stop signal emitted by streamplayer v2.0.
	  Required to keep the SPI slave informed about stopped streams.

	* Playback: Maximum bit rate can be configured from SPI slave via
	  register 95.

	* DCP protocol: Protocol level bumped to 1.0.2.

	* Misc: Configuration values can be distributed over D-Bus to the
	  various daemons using pairs of structured keys and values.
	  Configuration key owners must register with dcpd to make use of this
	  new feature.

2016-12-01  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.12 released.

	* Networking: WLAN connect is only triggered if neither a connection
	  attempt is in progress nor the connection attempt has failed before.

	* WLAN: Passwords shorter than 8 characters are accepted now.

2016-11-25  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.11 released.

	* Updates: Migration of network configuration data stored in old
	  format to new network.ini format. This allows updates from older
	  stable versions to the current version to succeed when done over
	  WLAN or specific non-DHCP Ethernet setups.

	* Updates: Wait for online state before telling opkg to start
	  downloading anything.

	* Debugging: Allow setting verbosity level over D-Bus.

2016-11-18  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.10 released.

	* Networking: Revert the workaround applied in v2.9. We are now
	  relying on an improved version of ConnMan which doesn't require such
	  silly things anymore.

2016-11-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.9 released.

	* Networking: Work around a bug in ConnMan that prevented showing
	  Airable listing on very first boot (or after recovery).

	* DCP protocol: Updates to register 75 and 76 are only sent to SPI
	  slave if their contents have actually changed.

2016-11-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.8 released.

	* Updates: Allow overriding the package repository configuration
	  regardless of configuration sent by SPI slave (for testing).

	* Updates: Fix update procedure for the case that nothing needs to be
	  done. The system now always reboots after an update request.

2016-11-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.7 released.

	* Updates: Do not perform check for partial system update states
	  introduced in v2.6 in case an update is in progress.

	* Updates: Do not tell SPI slave we are ready while an update is in
	  progress. Changes to register 17 are not reported in this case.

	* Updates: Do not allow SPI slave to request system reboot while an
	  update is in progress. A log message is emitted when such a request
	  gets ignored.

	* Updates: Reboot system if update appears to be in progress, but no
	  reboot occurs. This fixes the simplistic update script generated by
	  older versions of dcpd which fails to reboot the system in case opkg
	  returns with an error code.

	* Misc: In case binding to the smartphone app or DCP-over-TCP port
	  fails, still finish low-level initialization and do not stop early.
	  The result in previous versions was a log flooded with socket fd
	  errors (non-fatal, only annoying).

2016-11-04  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.6 released.

	* Networking: Suppress hidden networks in WLAN scan results. They
	  appeared as "(null)", but could not be used at all. Direct support
	  of hidden networks requires support by the user interface.

	* Updates: Attempt to fix up system update state if necessary. This
	  means that interrupted or otherwise incomplete system updates are
	  continued by running the generated upgrade script again. The user
	  will not notice because the status updates usually sent to the ARM
	  are suppressed in this case.

2016-10-25  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.5 released.

	* Networking: Fixed more network connection quirks caused by the new
	  way of interaction with ConnMan.

2016-10-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.4 released.

	* Networking: Fixed a few quirks caused by the new way of interaction
	  with ConnMan. There were all sorts of problems such as loss of WLAN
	  connections, failure to switch between networks, and even failure to
	  use WLAN at all (only possible with tricks). In particular, IPv6 is
	  explicitly disabled now.

	  WLAN connectivity should be OK by now.

	* Networking: Replacing WLAN adapters works. There was a problem that
	  prevented configuration of WLAN settings once the original WLAN
	  adapter was exchanged.

	* Networking: Waiting longer for very slow WLANs to connect.

	* Networking: DCP registers for reading out the network configuration
	  return more accurate data now. Before, the registers contained the
	  configuration that dcpd put as request to ConnMan. Now, the
	  registers contain what ConnMan has actually configured, independent
	  of requests posed by dcpd.

	* Updates: Enable installation of any release (back and forth between
	  versions of the same release flavor such as stable or testing, and
	  back and forth between the flavors).

	  This feature adds a lot of maintanance and system test burden if the
	  user is allowed to specify any arbitrary target version.

	* Logging: Reduce amount of log messages to spare CPU cycles. The
	  verbosity can be specified from the command line now, so despite
	  reduced amount of logs, debugging is easier now.


2016-10-05  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.3 released.

	* Updates: Enable configuration of update package feeds.

2016-09-30  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.2 released.

	* Networking: Enable use of ConnMan v1.33, supposedly fixing a few
	  networking problems. We now use D-Bus to push configuration changes
	  to ConnMan, and we implement the ConnMan agent API let ConnMan ask
	  for credentials. Network configuration data is stored in our own
	  configuration file, no more direct manipulation of files owned by
	  ConnMan.

2016-07-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.1 released.

	* Performance: Reduce amount of log messages to spare CPU cycles. This
	  is supposed to avoid stuttering audio playback at the start of
	  streams.

2016-06-27  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.0 released.

	* Communication with dcpspi: Major changes in the protocol between
	  dcpspi and dcpd. A small protocol has been added that encapsulates
	  DCP to get collision handling and synchronization right.

	  Collision handling is done completely within dcpd now (was mixed
	  handling in v1.x versions).

	* IP tunnel: Improved error messages.

2016-05-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.20 released.

	* UPnP: SPI slave can set the UPnP friendly name (register 88).

	* TA Control: Synchronize Airable login status between device and app.

	* Airable services: Allow SPI slave to delete service credentials for
	  services like Tidal. The device then automatically logs out from the
	  service.

	* DCP protocol: Proper protocol versioning. We are now at protocol
	  level 1.0.1. Setting the protocol to a specific level (this is
	  something which cannot be done from the outside at the moment) will
	  choose the register implementations as are correct for the selected
	  protocol level.

	* DCP protocol: Initial support for setting the appliance ID (register
	  87). The ID can be read out, but writing is not supported in this
	  version (writes are accepted and ignored). Also, the ID has no
	  effect whatsoever; it has been introduced only to get the DCP
	  command into the protocol implementation as soon as possible.

2016-05-03  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.19 released.

	* Stability: Fix concurrent access to meta data structure, very rarely
	  leading to messed up meta data, or maybe even crashes.

	* D-Bus: Adapt to latest changes in Streamplayer D-Bus interfaces.
	  Requires streamplayer 1.8 because of incompatible changes.

	* D-Bus: Adapt to latest changes in Airable authentication D-Bus
	  interfaces. Requires listbrokers 1.18 because of incompatible
	  changes.

2016-04-26  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.18 released.

	* TA Control: Detect broken connection between Streaming Board and
	  smartphone app in case the connection dies silently. This feature
	  comes at a minor prices: TCP keepalive with interval of 30 seconds
	  is employed, increasing overall network traffic a bit.

	* TA Control: The next stream register notification is avoided when
	  continuing playing a paused stream.

	* DCP protocol: Support SPI protocol level negotiation (register 1).

2016-04-14  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.17 released.

	* TA Control: Support structured meta data sent by smartphone app.

2016-04-08  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.16 released.

	* TA Control: Send information about externally started stream around.
	  The information is distributed via D-Bus signal. This information is
	  supposed to be caught by the user interface which should use it to
	  generate proper DRC screen updates.

2016-03-23  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.15 released.

	* DRCP: Recognize command codes 0x21 and 0x22 for fast scrolling
	  through lists.

2016-03-15  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.14 released.

	* Networking: Accept empty WLAN passphrases for unprotected networks.

	* Streaming: Activate play view when playing via register 79.

2016-03-01  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.13 released.

	* DCP protocol: Support search queries through register 74.

	* DCP protocol: URL registers are 1024 bytes now (were 512 bytes in
	  previous versions). This allows the SPI slave to process very long
	  URLs.

	* TA Control: Fix processing of Airable authentication URL requests.
	  Locale and IP address parameters were confused.

2016-02-18  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.12 released.

	* DCP protocol: Fix handling of unsupported registers.

	* DCP protocol: Fix spurious loss of protocol synchronization.

2016-02-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.11 released.

	* Airable services: Fix bug that prevented the SPI slave to send
	  service credentials for external services.

	* Bug fix: Avoid log disruption by very long messages.

2016-02-08  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.10 released.

	* TA Control: Support Airable access from smartphone app (small
	  protocol spoken on TCP port 8466). It is possible for the app to
	  establish connections with Airable by using passwords generated by
	  the Streaming Board. There is no reason to put the secret key into
	  the app anymore. Further, it is possible to read out credentials for
	  external services such a Tidal.

	* Airable services: Allow SPI slave to read out and manipulate
	  service credentials for services like Tidal. This is done through
	  new register 106.

2016-01-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.9 released.

	* Streaming: Allow smartphone apps to queue streams.

	* Streaming: Tell SPI slave title and URL of currently playing stream
	  through registers 75 and 76. This is necessary to get the
	  communication with the smartphone app on the SPI slave right.

	* Network status: Fix register 50 updates.

	* Misc: Various cosmetic changes.

2016-01-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.8 released.

	* WLAN: Attempt switching to WLAN mode when removing Ethernet cable.

	* Network configuration: Improve interoperability with SPI slave.

2015-12-16  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.7 released.

	* XMODEM: Fix CRC-16 computation; checksum is to be computed only for
	  the payload itself, not for the command header.

2015-12-08  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.6 released.

	* Networking: WLAN configuration is global and not bound to specific
	  interfaces. Swapping WLAN adapters while the system is running or
	  plugging in more than one adapter leads to undefined system
	  behavior.

	* Updates: System update can be started by SPI slave.

	* Bug fix: Fixed a crash.

2015-12-01  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.5 released.

	* Networking: WLAN site survey can be started by SPI slave, list of
	  discovered WLAN networks can be read out when done.

	* Misc: Several internal optimizations and improvements.

2015-11-02  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.4 released.

	* System shutdown: Use systemd and logind to inhibit system shutdown
	  until it is safe to do so. Files are closed when power off or reboot
	  is due. Corresponding internal APIs do not allow opening any new
	  files in this case.

	* DCP system reboot: Sending code 0x24/0x20 to register 40 triggers a
	  system reboot. This is implemented by sending a reboot request to
	  systemd.

	* DCP system power off: Sending DRC command for power off triggers a
	  system power down. This is implemented by sending a power off
	  request to systemd.

	* DCP status: Register 17 isn't fake anymore.

2015-09-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.3 released.

	* TCP tunnel: Initial implementation of TCP tunnels for incoming
	  connections (server side).

	  The SPI slave may ask to open one or more tunnels on any TCP port.
	  The Streaming Board will then listen on that port and forward any
	  data exchanged between the SPI slave and connecting clients using
	  DCP registers 119, 120, and 121.

	  It is not possible to initiate outgoing connections to external
	  servers using these kind of TCP tunnels.

2015-09-03  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.2 released.

	* Download files: Initial implementation of downloading files from the
	  internet using registers 40, 41, and 209. Requires D-Bus DL daemon.

	* XMODEM: Initial implementation of file transfers via XMODEM protocol
	  over DCP (registers 40, 41, 44, and 45). After a file that has been
	  downloaded by D-Bus DL, it's contents can be read by the SPI slave.

	* Misc: Various cosmetic changes.

2015-07-13  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.1 released.

	* Implement reading of network status register (register 50).
	  Also, status changes are automatically sent to the slave.

	* Implement reading software image build ID (register 37).

	* Show version information in log, add --version option.

2015-06-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.0 released.

	* First release for testing.


Copyright 2015--2020 T+A elektroakustik GmbH & Co. KG
